<!DOCTYPE html>
<html lang="ro">

<head>
    <title>
        <%- locals.produs.nume %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <%- include("../fragmente/head.ejs") %>
        <style>
            .descimg {
                display: flex;
            }
        </style>
</head>

<body>
    <%- include("../fragmente/header.ejs") %>
        <main>

            <section class="text-container">

                <h3>
                    <%- locals.produs.nume %>
                </h3>
                <span id="idprodus"> Cod produs: <%- `articol_${locals.produs.id}` %> </span>

                <img src="<%- locals.produs.img %>" alt="<%- locals.nume_produs %> imagine" />
                <!-- <div class="descimg">
                    <p>
                        <%- locals.produs.descriere %>
                    </p>
                    <img src="<%- locals.produs.img %>" alt="<%- locals.nume_produs %> imagine" />

                </div> -->
                <ul>
                    <li>
                        Pret: <%- produs.pret %>
                    </li>
                    <li>
                        Greutate: <%- locals.produs.greutate %>
                    </li>
                    <li>
                        Tip Produs: <%- locals.produs.tip_produs %>
                    </li>
                    <li>
                        Categorie: <%- locals.produs.categorie %>
                    </li>
                    <li>
                        Stoc: <%- locals.produs.stoc %>
                    </li>
                    <li>
                        Public Tinta: <%- locals.produs.public_tinta %>
                    </li>
                    <li>
                        Compatibilitate cu:
                        <ul>
                            <%for( let el of locals.produs.compatibilitate) {%>
                                <li class="platforma">
                                    <%- el %>
                                </li>
                                <%}%>
                        </ul>
                    </li>
                    <li>
                        Lansat la: <time datetime="<%- locals.produs.data_lansare.toISOString().split(" T")[0] %>"> <%-
                                locals.produs.data_lansare.toUTCString() %></time>
                    </li>
                    <li>
                        Exclusiv Online: <%- produs.doar_online %>
                    </li>
                </ul>

                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                Descriere
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                            data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <%- locals.produs.descriere %>
                            </div>
                        </div>
                    </div>
                </div>

            </section>

        </main>
        <%- include("../fragmente/footer.ejs") %>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
<script>
    var shown = document.getElementsByClassName("show").length > 0
    let lse = `acc-<%-locals.produs.id%>`
    if (localStorage.getItem(lse)) {
        document.getElementById('collapseOne').classList.add('show');
        shown=1;
    }
    document.getElementsByClassName('accordion-button')[0].onclick = function () {
        shown = shown ^ true
        if (shown == 1) {
            localStorage.setItem(lse, '1')
        } else {
            localStorage.removeItem(lse)
        }
    }    
</script>

</html>